// Agent agenteRemetente in project smaRemetente
embeddedAgent("4168ef73-db44-48e3-a36e-231d3ef4155a").
abroad(yes).

/* Initial beliefs and rules */
!conf.

/* Initial goals */

/* Plans */
+!conf : abroad(yes) <-
	.print("Connecting to ContextNet Server!");
	.connectCN("skynet.turing.pro.br",5500,"5cb7c831-4279-41f5-9353-ee23beda9bc7");
	!start.

+!conf : abroad(no)  <-
	.print("aboard=no").
	
+!start : abroad(yes) & embeddedReady[source(X)] <-
    .print("Transporter ready!");
    -embeddedReady[source(X)];
    +ready;
    !start.

+!start : abroad(yes) & ready & embeddedAgent(UUID) <-
    -ready;
	-abroad(yes);
	+abroad(no);
	.moveOut(UUID, inquilinism).
    
+!start : abroad(yes) & embeddedAgent(UUID)<-
	.print("AgentComm trying communication with EmbeddedAgent...");
	.sendOut(UUID, tell, waiting_for_transfer);
	.wait(2500);
	!start.
	
+!start : abroad(no) <-
    .print("Nothing to do!").

